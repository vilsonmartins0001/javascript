<!DOCTYPE html>
<html lang="pt_br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>herança</title>
    <style>
        *{
            padding: 0px;
            margin: 0px;
            border: none;
            box-sizing: border-box;
            font-size: large;
        }
        .div_Carros{
            
            display: flex;
            width: 100%;
            border: 2px solid black;
            border-radius: 5px;
            padding: 5px;
            background-color: #a0a3a2;

        }
        .carro{
            border: 3px #008 solid;
            background-color: #bef1fa;
            padding: 5px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            width: 200px;
        }
        .campoForm{
            margin-left: 20px;
            display: flex;
            flex-direction: column;
            width: 300px;
            margin-bottom: 10px;
        }
        .campoForm input{
            background-color: #eee;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #000;

        }
        .campoForm button{
            background-color: #888;
            padding: 5px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        #btn_remover{
            background-color: #913ef0;
            color: #eee;
            padding: 5px;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
        }

    </style>
</head>
<body>
    <div id="criarCarro" class="criarCarro">
       <div class="campoForm">
           <label for="f_nome">Nome</label>
           <input type="text" name="f_nome" id="f_nome">
       </div>
       <div class="campoForm">
            <label for="f_portas">Portas</label>
       <input type="number" name="f_portas" id="f_portas" value="0">
       </div>
       <div class="campoForm">
            <label for="f_blindagem">Blindagem</label>
            <input type="number" name="f_blindagem" id="f_blindagem" disabled value="0">
       </div>
       <div class="campoForm">
            <label for="f_municao">Munição</label>
            <input type="number" name="f_municao" id="f_municao" disabled value="0">
       </div>
       <div class="campoForm">
            <label>Tipo</label>
            <div class="radio">
                <input type="radio" name="f_tipo" id="f_tipomilitar" value="m"/>Militar
            </div>
            <div class="radio">
                <input type="radio" name="f_tipo" id="f_tipoNormal" value="n" checked/>Normal
            </div>
             <div class="radio">
                <input type="radio" name="f_tipo" id="f_tipoUtilitario" value="u" />Utlitario
            </div>
       </div>
       <div class="campoForm">
            <button id="btn_addCarro">Adicionar</button>
       </div>
       <div id="div_Carros" class="div_Carros">

       </div>

    </div>
    <script>
        //============================================= Classe PAI / Base =============================
        class Carro{        
            constructor(c_nome,c_portas){
                this.nome=c_nome
                this.portas=c_portas
                this.ligado=false
                this.velocidade=0
                this.cor=undefined
            }
            ligar=function(){
                this.ligado=true
            }
            desligar=function(){
                this.ligado=false
            }
            setCor=function(c_cor){
                this.cor=c_cor
            }
        }

         //================================ Definindo a classe com herança ===========================

        class Militar extends Carro{    //classe criada com herança da classe "Carro" / FILHO

            constructor(c_nome,c_portas,c_blindagem,c_municao){
                super(c_nome,c_portas)
                this.blindagem=c_blindagem
                this.municao=c_municao
                this.setCor("verde")
            }
            atirar=function(){
               if(municao>0){
                this.municao--
               }
            }
        } 
        class Utlitario extends Carro{
            constructor(c_nome,c_portas,c_lugares){
                super(c_nome,c_portas,)
                this.lugares=c_lugares
                this.setCor("Prata")
                this.ligar()
                this.velocidade=90
            }
        }

        //============================= Armazenando os elementos do documento ==========================       
            
        const f_tipomilitar=document.querySelector("#f_tipomilitar")
        const f_tipoNormal=document.querySelector("#f_tipoNormal")
        const f_tipoUtilitario=document.querySelector("#f_tipoUtilitario")
        const f_blindagem=document.querySelector("#f_blindagem")
        const f_municao=document.querySelector("#f_municao")
        const f_nome=document.querySelector("#f_nome")
        const f_portas=document.querySelector("#f_portas")
        const div_Carros=document.querySelector("#div_Carros")
        const btn_addCarro=document.querySelector("#btn_addCarro")
        
        //---------------------------------------------------------------------------------------------

        let a_carros=[]       //Array carros

        const removerCarro=(car_A_remover)=>{ 

            a_carros=a_carros.filter((car)=>{ //faz a filtragem para identificar o carro a ser removido
                return car.nome!=car_A_remover
            })
        }
       

        f_tipomilitar.addEventListener("click",(event)=>{
            f_nome.value=""
            f_portas.value=0                        //reset
            f_blindagem.value=0
            f_municao.value=0
            //-----------------------------------------------------------
            f_blindagem.removeAttribute("disabled")
            f_municao.removeAttribute("disabled")
        })

        f_tipoNormal.addEventListener("click",(event)=>{
            f_nome.value=""
            f_portas.value=0                        //reset
            f_blindagem.value=0
            f_municao.value=0
             //-----------------------------------------------------------

            f_blindagem.setAttribute("disabled","disabled")
            f_municao.setAttribute("disabled","disabled")
        })

        f_tipoUtilitario.addEventListener("click",(event)=>{
            f_nome.value=""
            f_portas.value=0                        //reset
            f_blindagem.value=0
            f_municao.value=0
             //-----------------------------------------------------------

            f_blindagem.setAttribute("disabled","disabled")
            f_municao.setAttribute("disabled","disabled")
        })

        //==================================== Função Gerenciar Carros =======================================
        const gerenciarExibicaoCarros=()=>{
            div_Carros.innerHTML=""
            a_carros.map((car)=>{

                const carro=document.createElement("div")
                carro.setAttribute("class","carro")
                carro.setAttribute("data-nome",car.nome)
                carro.innerHTML=`Nome: ${car.nome} </br> Portas: ${car.portas}</br> Lugares: ${car.lugares}</br> Cor: ${car.cor}</br> Blindagem: ${car.blindagem}</br> Munição: ${car.municao}`
                div_Carros.appendChild(carro)  //cria um elemeno carros na div recem criada

                //------------------------------- cria o botao remover ----------------------------------------

                const btn=document.createElement("button")
                btn.setAttribute("id","btn_remover")
                btn.innerHTML="Remover"
                
                btn.addEventListener("click",(event)=>{
                    const c_a_remover=event.target.parentNode.dataset.nome
                    removerCarro(c_a_remover)
                    gerenciarExibicaoCarros()
                })
                carro.appendChild(btn)
            })
        }

        //================================= Cria o evento no botão de adicionar Carro ==========================

        btn_addCarro.addEventListener("click",(event)=>{
            if(f_tipoNormal.checked){
                const n_car= new Carro(f_nome.value,f_portas.value)
                a_carros.push(n_car)
            }else if(f_tipoUtilitario.checked){
                const n_car=new Utlitario(f_nome.value,f_portas.value)
                a_carros.push(n_car)
            }else{
                const n_car=new Militar(f_nome.value,f_portas.value)
                a_carros.push(n_car)
            }
            gerenciarExibicaoCarros()
        })

        

       
        const c1=new Carro("Corolla",4) //class Pai
        const c3=new Utlitario("Santa Fé",4,7)

        c1.ligar()
        c1.velocidade=130
        c1.setCor("Vermelho")
     /*   console.log(`Nome: ${c1.nome}`)
        console.log(`Portas: ${c1.portas}`)
        console.log(`Cor: ${c1.cor}`)
        console.log(`Ligado: ${(c1.ligado?"Sim":"Não")}`)
        console.log(`Velocidade: ${c1.velocidade} km/h`)
        console.log(`===========================`)
        
        const c2=new Militar("Tanque",1,100,50) //class Filho

        console.log(`Nome: ${c2.nome}`)
        console.log(`Portas: ${c2.portas}`)
        console.log(`Blindagem: ${c2.blindagem}`)
        console.log(`Munição: ${c2.municao}`)
        console.log(`Cor: ${c2.cor}`)
        console.log(`Ligado: ${(c2.ligado?"Sim":"Não")}`)
        console.log(`Velocidade: ${c2.velocidade} km/h`)
        console.log(`===========================`)*/
      
    </script>
</body>
</html>